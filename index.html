<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js-Input</title>


    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="jumbotron">
          <h1>Js-Inputについて</h1>
          <p>javascriptでsetIntervalなどのメインループで入力判定を行う支援クラスです</p>
          <a href="sample.html">サンプルプログラムはこちら</a><br>
          <a href="keycode.html">Js-Inputのキーコード表</a><br>
        </div>
    </div>
    <br>
<h2>クラス JsInput</h2>
<table class="table table-striped">
<tr><th>メソッド</th><th></th></tr>

<tr>
	<td>add(vKey)</td>
	<td>
		使いたいキーコード名を登録する<br>
		vKey 仮想キー名  <a href="keycode.html"> (Js-Inputのキーコード表を参照)</a><br>
		<br>
		初期化時に定義する<br>
          input.add(input.vk_a);<br>
          input.add(input.vk_b);<br>
          input.add(input.vk_c);<br>
	</td>
</tr>

<tr>
	<td>exec()</td>
	<td>メインループで毎回実行するもの<br>
		setInterval内のfunctionなどで定義する(メインループ)
	</td>
</tr>
<tr>
	<td>show()</td>
	<td>デバッグ用のコンソール表示<br>
		setInterval内のfunctionなどで定義する(メインループ)
	</td>
</tr>

<tr>
	<td>keyClear(vKey)</td>
	<td>仮想キーの変数をクリアする<br>
	</td>
</tr>
<tr>
	<td>clear()</td>
	<td>登録したすべての仮想キーの変数をクリアする<br>
	</td>
</tr>

<tr>
	<td>onDown(code)</td>
	<td>イベント登録用 keydown<br>
    document.addEventListener("keydown", event => { input.onDown(event.keyCode); });<br>
	</td>
</tr>

<tr>
	<td>onUp(code)</td>
	<td>イベント登録用 keyup<br>
    document.addEventListener("keyup", event => { input.onUp(event.keyCode); });<br>
	</td>
</tr>

<tr>
	<td>getClick(vKey)</td>
	<td>click判定(一度だけ判定)<br>
		vKey 仮想キー名  <a href="keycode.html"> (Js-Inputのキーコード表を参照)</a><br>
		setInterval内のfunctionなどで定義する(メインループ)<br>
    if( input.getClick(input.vk_a)) console.log("A 1回だけ処理");
	</td>
</tr>


<tr>
	<td>getRepeat(vKey)</td>
	<td>リピート数を返す<br>
		vKey 仮想キー名  <a href="keycode.html"> (Js-Inputのキーコード表を参照)</a><br>
		setInterval内のfunctionなどで定義する(メインループ)<br>
    if(input.getRepeat(input.vk_a)==10) console.log("A リピートが10回押された");
	</td>
</tr>


<tr>
	<td>getLongPress(vKey,value)</td>
	<td>押しっぱなし判定(一度だけ判定)  <br>
		vKey 仮想キー名  <a href="keycode.html"> (Js-Inputのキーコード表を参照)</a><br>
		value  時間(ms)<br>
		setInterval内のfunctionなどで定義する(メインループ)<br>
    if( input.getLongPress(input.vk_a,1000)) console.log("A 1秒押しっぱなし");
	</td>
</tr>


<tr>
	<td>getLoopPress(vKey,value)	</td>
	<td>押しっぱなし判定(一定時間を繰り返す)<br>
		vKey 仮想キー名  <a href="keycode.html"> (Js-Inputのキーコード表を参照)</a><br>
		value 時間(ms)<br>
		setInterval内のfunctionなどで定義する(メインループ)<br>
		if(input.getLoopPress(input.vk_left,500)) console.log("left 500msで繰り返し");
	</td>
</tr>
</table>


</body>
</html>